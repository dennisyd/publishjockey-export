% Minimal Hindi test template with automatic script-based font switching
\documentclass{article}

\usepackage{fontspec}
\usepackage{ucharclasses}

% Set Hindi/Devanagari as the main font (default for all text)
\setmainfont{Noto Sans Devanagari}[
  Script=Devanagari,
  Renderer=HarfBuzz,
  Ligatures=TeX,
  Scale=MatchLowercase,
  Language=Hindi
]

% Define English/Latin font for automatic switching
\newfontfamily\englishfont{Liberation Serif}[
  Ligatures=TeX,
  Scale=MatchLowercase
]

% CRITICAL: Automatic font switching based on Unicode script
% Default: Use Hindi font for all text
\setDefaultTransitions{\begingroup\selectfont}{\endgroup}

% When Latin characters appear: Switch to English font
\setTransitionsForLatin{
  \begingroup\englishfont
}{
  \endgroup
}

% Unicode-aware PDF setup
\usepackage[unicode]{hyperref}
\hypersetup{
  pdfencoding=auto,
  bookmarksopen=true,
  bookmarksopenlevel=1
}

\begin{document}

$if(title)$
\title{$title$}
\maketitle
$endif$

$if(toc)$
\tableofcontents
$endif$

$body$

\end{document}
